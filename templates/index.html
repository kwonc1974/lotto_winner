<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Lotto Winner</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 30px;
            padding: 0 10px;
        }

        .settings-icon, .simulation-icon, .stats-icon {
            position: absolute;
            top: 20px;
            font-size: 24px;
            text-decoration: none;
            color: black;
        }
        .settings-icon { right: 100px; }
        .simulation-icon { right: 60px; }
        .stats-icon { right: 20px; }

        button, select {
            font-size: 16px;
            padding: 8px 12px;
            margin: 5px;
            border: 1px solid #ccc;
            background-color: white;
            cursor: pointer;
        }

        select {
            appearance: none;
            background-image: url('data:image/svg+xml;utf8,<svg fill="blue" height="18" viewBox="0 0 24 24" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>');
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 12px;
            padding-right: 30px;
        }

        .ball {
            display: inline-block;
            width: 50px;
            height: 50px;
            line-height: 50px;
            border-radius: 50%;
            text-align: center;
            color: white;
            font-weight: bold;
            margin: 5px;
        }

        .yellow { background-color: #fbc02d; }
        .blue { background-color: #29b6f6; }
        .red { background-color: #ef5350; }
        .gray { background-color: #9e9e9e; }
        .green { background-color: #66bb6a; }

        .section { margin: 20px 0; }
        .control-group { display: inline-block; margin: 10px; }

        .reset-button {
            background-color: #03C75A;
            color: white;
            border: none;
            font-weight: bold;
        }
    </style>
    <script>
        function getColorClass(number) {
            if (number <= 10) return 'yellow';
            if (number <= 20) return 'blue';
            if (number <= 30) return 'red';
            if (number <= 40) return 'gray';
            return 'green';
        }

        function renderBalls(numbers, label) {
            const section = document.createElement('div');
            section.className = 'section';
            numbers.forEach(num => {
                const ball = document.createElement('div');
                ball.className = 'ball ' + getColorClass(num);
                ball.textContent = num;
                section.appendChild(ball);
            });
            const tag = document.createElement('p');
            tag.textContent = label;
            section.appendChild(tag);
            document.getElementById('result').appendChild(section);
        }

        async function generateUnified() {
            const count = parseInt(document.getElementById('ultraCount').value);
            if (!count) return;

            // 백엔드에서 'ultra' 타입을 처리하도록 다음 단계에서 연결해줄게
            const response = await fetch(`/generate_multiple?type=ultra&count=${count}`);
            const data = await response.json();

            data.results.forEach((item, idx) => {
                renderBalls(item.numbers, `AI 통합 추천 - No.${idx + 1}`);
            });
        }

        function clearResults() {
            document.getElementById('result').innerHTML = '';
            document.getElementById('ultraCount').value = '0';
        }

        window.onload = function () {
            clearResults();
        }
    </script>
</head>
<body>

    <!-- 상단 아이콘 (그대로) -->
    <a href="/results" class="settings-icon" title="결과 확인">⚙️</a>
    <a href="/simulation" class="simulation-icon" title="시뮬레이션 결과">🎯</a>
    <a href="/stats" class="stats-icon" title="추천 통계">📊</a>

    <h1>Lotto Winner 🎉</h1>

    <div>
        <!-- ✅ 버튼 하나로 통합 / 0~10게임 선택 -->
        <div class="control-group">
            <select id="ultraCount">
                <option value="0">0게임</option>
                <option value="1">1게임</option>
                <option value="2">2게임</option>
                <option value="3">3게임</option>
                <option value="4">4게임</option>
                <option value="5">5게임</option>
                <option value="6">6게임</option>
                <option value="7">7게임</option>
                <option value="8">8게임</option>
                <option value="9">9게임</option>
                <option value="10">10게임</option>
            </select><br>
            <button onclick="generateUnified()">AI 통합 추천</button>
        </div>

        <div class="control-group">
            <button class="reset-button" onclick="clearResults()">초기화</button>
        </div>
    </div>

    <div id="result"></div>
</body>
</html>








